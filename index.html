<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>OGC-SOS-Level1 by Viky-zhang</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">OGC-SOS-Level1</h1>
      <h2 class="project-tagline">更通俗一点的OGC SOS规范说明。</h2>
      <a href="https://github.com/Viky-zhang/OGC-SOS-Level1" class="btn">View on GitHub</a>
      <a href="https://github.com/Viky-zhang/OGC-SOS-Level1/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/Viky-zhang/OGC-SOS-Level1/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="ogc-sos-level1" class="anchor" href="#ogc-sos-level1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>OGC-SOS-Level1</h1>

<p>通俗描述OGC SOS规范是做什么用的。</p>

<p>不管OGC标准是否继续流行，反正有个通俗些的中文文档来理解，能节省时间就好了。</p>

<p>SOS：Sensor Observation Service（中文：传感器观测服务）</p>

<h1>
<a id="目的" class="anchor" href="#%E7%9B%AE%E7%9A%84" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>目的</h1>

<p>OGC标准的文档都是英文版的，而且都大致可算是专业性的标准文档，要短时间内看懂有难度。</p>

<p>但难度主要不在于专业性，而在于：</p>

<ul>
<li><strong>标准是英文的;</strong></li>
<li><strong>并且标准的描行文有些晦涩难懂;</strong></li>
</ul>

<p>因此，这里想以通俗的方式讲述OGC SOS标准是怎么一回事，尽量排除非本质东西的干扰，还原标准本身。</p>

<p>至于OGC SOS标准本身是否通用性大或实际应用广，那是另外的话题了。</p>

<h1>
<a id="sos是什么" class="anchor" href="#sos%E6%98%AF%E4%BB%80%E4%B9%88" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SOS是什么</h1>

<p><strong>SOS</strong>是用来发布<strong>传感器观测数据</strong>的一个服务标准，基于<strong>XML</strong>格式和HTTP协议来封装请求、响应及观测数据。传感器可通过XML将观测数据存储到SOS，用户可用XML构建时间、空间、传感器、观测内容的请求来获取所需的观测数据。</p>

<p>传感器观测数据的存储、发布、获取并不是新鲜东东，SOS只是OGC组织以标准的形式喊的一句口号命令：来吧，遵循我的格式和接口，你们就可以相互获取数据了。</p>

<p>而实际上，SOS并不像USB3.0相对于USB2.0那样提高了速度，SOS就是一个约定的格式和接口而已。</p>

<p>用实际例子类比的话：</p>

<p><strong>一个淘宝上的商品，出厂后，如何存入仓库，买家如何购买商品，商品在运输过程中如何包装。</strong></p>

<p><strong>SOS关心以下内容</strong>：</p>

<ul>
<li>商品：传感器的观测数据</li>
<li>淘宝上的网页描述：传感器的描述信息</li>
<li>仓库：OS的后台数据库（<code>任意数据库</code>）</li>
<li>包装：XML

<ul>
<li>观测数据：<code>OGC OM</code>
</li>
<li>传感器描述：<code>OGC SensorML</code>
</li>
</ul>
</li>
<li>运输方式：HTTP（<code>基本POST、GET获取更上层的WebService</code>）</li>
<li>入库方式：

<ul>
<li>插入观测数据（<code>SOS InsertObservation操作</code>）</li>
<li>传感器描述信息（<code>SOS RegisterSensor操作</code>）</li>
</ul>
</li>
<li>买家购买（或说出库方式）：

<ul>
<li>获取具体商品（<code>SOS GetObservation操作</code>）

<ul>
<li>指定商品的厂家、型号、生产日期、款式（<code>指定观测数据的传感器、观测内容（温度、湿度之类）、时间范围、空间范围</code>）</li>
</ul>
</li>
<li>获取商品描述信息（<code>SOS DescribeSensor操作</code>）</li>
</ul>
</li>
</ul>

<p><strong>SOS不关心</strong>：</p>

<ul>
<li>商品如何生产出来的</li>
<li>商品运输时走哪条路</li>
<li>商品在淘宝店仓库怎么放置的</li>
<li>商品从生产、上架、拍下、送达用户手中速度</li>
</ul>

<h1>
<a id="sos的版本" class="anchor" href="#sos%E7%9A%84%E7%89%88%E6%9C%AC" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SOS的版本</h1>

<p>目前版本有：1.0、2.0。</p>

<p>本文以1.0为主要说明，2.0的后续再补充。</p>

<h1>
<a id="sos-10的操作" class="anchor" href="#sos-10%E7%9A%84%E6%93%8D%E4%BD%9C" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SOS 1.0的操作</h1>

<p>一般来说，SOS的操作都是一个XML文件（或说字符串）（遵循对应的<a href="http://schemas.opengis.net/sos/">sos xml schema</a>约束）。</p>

<p>用户/传感器把XML以HTTP的方式（POST/GET/WebService都可以）发送SOS服务的地址（如http://localhost/sos），SOS处理后，会同样以XML形式响应给用户/传感器。不管是插入数据，还是查询数据，流程均如此，这应该算是体现通用性的一点。</p>

<p><strong>主要操作</strong>：</p>

<ul>
<li><a href="https://github.com/Viky-zhang/OGC-SOS-Level1/blob/master/operation/RegisterSensor.md">RegisterSensor</a></li>
<li><a href="https://github.com/Viky-zhang/OGC-SOS-Level1/blob/master/operation/InsertObservation.md">InsertObservation</a></li>
<li><a href="https://github.com/Viky-zhang/OGC-SOS-Level1/blob/master/operation/DescribeSensor.md">DescribeSensor</a></li>
<li><a href="https://github.com/Viky-zhang/OGC-SOS-Level1/blob/master/operation/GetObservation.md">GetObservation</a></li>
<li><a href="https://github.com/Viky-zhang/OGC-SOS-Level1/blob/master/operation/GetCapabilities.md">GetCapabilities</a></li>
</ul>

<p><strong>次要操作</strong>：</p>

<ul>
<li><a href="https://github.com/Viky-zhang/OGC-SOS-Level1/blob/master/operation/GetObservationById.md">GetObservationById</a></li>
<li><a href="https://github.com/Viky-zhang/OGC-SOS-Level1/blob/master/operation/GetFeatureOfInterest.md">GetFeatureOfInterest</a></li>
<li><a href="https://github.com/Viky-zhang/OGC-SOS-Level1/blob/master/operation/GetFeatureOfInterestTime.md">GetFeatureOfInterestTime</a></li>
<li><a href="https://github.com/Viky-zhang/OGC-SOS-Level1/blob/master/operation/GetResult.md">GetResult</a></li>
<li><a href="https://github.com/Viky-zhang/OGC-SOS-Level1/blob/master/operation/DescribeFeatureType.md">DescribeFeatureType</a></li>
<li><a href="https://github.com/Viky-zhang/OGC-SOS-Level1/blob/master/operation/DescribeObservationType.md">DescribeObservationType</a></li>
<li><a href="https://github.com/Viky-zhang/OGC-SOS-Level1/blob/master/operation/DescribeResultModel.md">DescribeResultModel</a></li>
</ul>

<h1>
<a id="实例" class="anchor" href="#%E5%AE%9E%E4%BE%8B" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>实例</h1>

<p>参考上面各操作的示例<a href="https://github.com/Viky-zhang/OGC-SOS-Level1/tree/master/example">example</a>。</p>

<p>还有<a href="https://wiki.52north.org/bin/view/SensorWeb/SosOperations">52nSOS XML示例</a>。</p>

<h1>
<a id="sos引用的标准" class="anchor" href="#sos%E5%BC%95%E7%94%A8%E7%9A%84%E6%A0%87%E5%87%86" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SOS引用的标准</h1>

<p>准确说，应该是SOS引用到的OGC标准。因为OGC有不少基于XML的标准，时间、空间、地图等等方面都有。</p>

<p>SOS不可能所有的东西都自己定义（一来麻烦工作量大，二来会与OGC现有的标准重复、冲突），所以，SOS只定义了操作接口，至于实体内容就直接引用OGC其他标准的内容。这其实也与XML Schema可相互引用的优点有关。</p>

<p>主要引用的标准：</p>

<ul>
<li><a href="http://www.opengeospatial.org/standards/om">OM</a></li>
<li><a href="http://www.opengeospatial.org/standards/sensorml">SensorML</a></li>
<li><a href="http://www.opengeospatial.org/standards/gml">GML</a></li>
</ul>

<h1>
<a id="sos软件" class="anchor" href="#sos%E8%BD%AF%E4%BB%B6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SOS软件</h1>

<p>实现SOS的开源软件主要是<a href="http://52north.org/communities/sensorweb/sos">52north</a>组织在维护，有两个主要版本：</p>

<ul>
<li>
<a href="http://52north.org/communities/sensorweb/sos/codeRepository.html">52nSOS 3.x</a>

<ul>
<li>支持SOS 1.0规范主要操作，SOS 2.0少部分操作。</li>
</ul>
</li>
<li>
<a href="https://github.com/52North/SOS">52nSOS 4.x</a>

<ul>
<li>支持SOS 1.0和2.0主要操作，界面优化不少，持续更新。</li>
<li>
甚至还有<a href="http://52north.org/communities/sensorweb/sosSOE">52nSOS for ArcGIS Server</a>。</li>
</ul>
</li>
</ul>

<p>其他组织也有实现，但感觉有点小打小闹。</p>

<h1>
<a id="sos与ogc-swe" class="anchor" href="#sos%E4%B8%8Eogc-swe" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SOS与OGC SWE</h1>

<p>SOS和SOS所引用到的OM、SensorML，均属于<a href="http://www.opengeospatial.org/domain/swe">SWE</a>系列标准的其中之一。</p>

<p><a href="http://www.opengeospatial.org/domain/swe">SWE</a>包括（按规范主页顺序）：</p>

<ul>
<li>OM</li>
<li>PUCK</li>
<li>SensorML</li>
<li>SOS</li>
<li>SPS</li>
<li>SWE Common Data Model</li>
<li>SWE Service Model</li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/Viky-zhang/OGC-SOS-Level1">OGC-SOS-Level1</a> is maintained by <a href="https://github.com/Viky-zhang">Viky-zhang</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
